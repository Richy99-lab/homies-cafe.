<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Homies Fast Food Cafe Menu</title>
</head>
<body>
    <h1>Welcome to Homies Fast Food Cafe</h1>
    <p>Select your items:</p>

    <form id="orderForm">
        <label><input type="checkbox" name="item" value="Coffee@10"> Coffee - Ksh 10</label><br>
        <label><input type="checkbox" name="item" value="Strong Tea@15"> Strong Tea - Ksh 15</label><br>
        <label><input type="checkbox" name="item" value="Milk Tea@20"> Milk Tea - Ksh 20</label><br>
        <label><input type="checkbox" name="item" value="Mandazi@5"> Mandazi - Ksh 5</label><br>
        <label><input type="checkbox" name="item" value="Chapati@15"> Chapati - Ksh 15</label><br>
        <label><input type="checkbox" name="item" value="Pilau@80"> Pilau - Ksh 80</label><br>
        <label><input type="checkbox" name="item" value="Rice Plain@40"> Rice Plain - Ksh 40</label><br>
        <label><input type="checkbox" name="item" value="Rice Beans@60"> Rice Beans - Ksh 60</label><br>
        <label><input type="checkbox" name="item" value="Rice Ndengu@60"> Rice Ndengu - Ksh 60</label><br>
        <label><input type="checkbox" name="item" value="Githeri@40"> Githeri - Ksh 40</label><br>
        <label><input type="checkbox" name="item" value="Ugali Mayai@90"> Ugali Mayai - Ksh 90</label><br>
        <label><input type="checkbox" name="item" value="Ugali Omena@80"> Ugali Omena - Ksh 80</label><br><br>

        <label>Enter your location:</label><br>
        <input type="text" id="location" name="location" required><br><br>

        <label>Enter your phone number:</label><br>
        <input type="text" id="phone" name="phone" required><br><br>

        <button type="submit">Pay & Send Order</button>
    </form>

    <p id="status"></p>

    <script>
        document.getElementById('orderForm').addEventListener('submit', async function(e){
            e.preventDefault();

            const items = Array.from(document.querySelectorAll('input[name="item"]:checked'))
                .map(i => i.value);

            const location = document.getElementById('location').value;
            const phone = document.getElementById('phone').value;

            if(items.length === 0){
                alert('Please select at least one item.');
                return;
            }

            // Send order to backend
            const response = await fetch('https://yourserver.com/stkpush', {
                method: 'POST',
                headers: {'Content-Type':'application/json'},
                body: JSON.stringify({items, location, phone})
            });

            const data = await response.json();
            document.getElementById('status').innerText = data.message;
        });
    </script>
</body>
</html>
